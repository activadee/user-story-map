<app-modal id="add-step" title="Add New Step" (closeModal)="onCancel()">
  <form (ngSubmit)="onSubmit()">
    <div class="mb-3 sm:mb-4">
      <label
        for="stepTitle"
        class="block mb-2 font-medium text-gray-600 text-sm sm:text-base"
      >
        Title *
      </label>
      <input
        id="stepTitle"
        type="text"
        [(ngModel)]="formData().title"
        (ngModelChange)="updateTitle($event)"
        name="stepTitle"
        maxlength="100"
        placeholder="e.g., Create Account"
        class="w-full py-2 px-3 border border-gray-200 rounded-md text-sm focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/25 placeholder:text-gray-500 sm:py-3 sm:px-4 sm:text-base sm:focus:ring-4"
      />
    </div>

    <div class="mb-3 sm:mb-4">
      <label
        for="stepDescription"
        class="block mb-2 font-medium text-gray-600 text-sm sm:text-base"
      >
        Description
      </label>
      <textarea
        id="stepDescription"
        [(ngModel)]="formData().description"
        (ngModelChange)="updateDescription($event)"
        name="stepDescription"
        maxlength="300"
        placeholder="Describe this step..."
        rows="2"
        class="w-full py-2 px-3 border border-gray-200 rounded-md text-sm resize-y min-h-[50px] focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/25 placeholder:text-gray-500 sm:py-3 sm:px-4 sm:text-base sm:min-h-[60px] sm:focus:ring-4"
      >
      </textarea>
    </div>

    <div
      class="flex flex-col gap-2 mt-4 sm:flex-row sm:gap-3 sm:justify-end sm:mt-6"
    >
      <button
        type="button"
        (click)="onCancel()"
        class="btn btn-secondary order-2 sm:order-1"
      >
        Cancel
      </button>
      <button
        type="submit"
        [disabled]="!isFormValid()"
        class="btn btn-primary order-1 sm:order-2"
      >
        Add Step
      </button>
    </div>
  </form>
</app-modal>
